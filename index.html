<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>บันทึกสุขภาพนักเรียน โรงเรียน...</title>
  <link rel="shortcut icon" href="https://renderapi.s3.amazonaws.com/Gpqwua0Th.png" type="image/x-icon">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/button.css" />
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>
<body>

  

  <script src="js/moment.min.js"></script>
  <div class="row">
  <div class="col-md-4">
    <h3 id="studentInfo">
        <span id="name"></span>
        <span id="last"></span>
        <span id="error">Not Found Data / Complete Student ID</span>

    </h3>

      <div>
        <img class="img-responsive" id="StudentPortrait" src="image/notFound.png">
      </div>
  </div>
  
  <div class="col-xs-6 col-md-4">

    <!-- https://codepen.io/melnik909/pen/BZpJLN -->
    <div class="page" style="margin-top: 3vh;margin-bottom: 1vh;">
    <label class="field field_v1">
      <input class="field__input" type="text" name="SearchVID" id="SearchVID" onkeyup="main(jsonParsedArray)" maxlength="5" default="44444" style="color:white;" autofocus>
      <span class="field__label-wrap">
        <span class="field__label">Enter Student ID : </span>
      </span>
    </label>
  </div>

    <h1>ฟอร์มบันทึก</h1>
      <form action="https://docs.google.com/forms/d/e/1FAIpQLSdca0nYFvuCH8NogNo3T1WxN8zItYf_MHH7R1mh8_Pa3AUKTQ/formResponse" method="post" autocomplete="on">
        เลขประจำตัว <input type="number" id="studentID" name="entry.21566314" disabled>
        บันทึกเวลา <input type="text" id="timestamp" name="timestamp" required disabled><br>
        <a href="#">อาการ</a>* <input type="text" id="symptom"name="symptom" required> <a href="#"><img src="image/bin.png" width="20px" onclick="document.getElementById('symptom').value=''"></a><br>

        <a href="#ตำแหน่ง">ตำแหน่ง</a>* <input type="text" id="position" name="position" required autocomplete="off"> <a href="#"><img src="image/bin.png" width="20px" onclick="document.getElementById('position').value=''"></a><br>
        ระดับความรุนแรง <input type="number" max="3" min="1" onchange="
        if (['1','2','3',1,2,3].includes(this.value)) {  } else { this.value = '1' };dmgContext(this);" onmouseenter="dmgContext(this)" 
        list="damage_choice" id="damage" name="damage" value="1"> &nbsp;&nbsp;&nbsp;<span id="damage_context" style="font-size:2rem"></span><br>

        <a href="#action">การปฏิบัติ</a>* <input type="text" id="action"name="action" required> <a href="#"><img src="image/bin.png" width="20px" onclick="document.getElementById('action').value=''"></a><br>
        <a href="#advice">คำแนะนำ</a> <input type="text" id="advice"name="advice"> <a href="#"><img src="image/bin.png" width="20px" onclick="document.getElementById('advice').value=''"></a><br>
        <a href="#note">หมายเหตุ</a> <input type="text" id="note"name="note"> <a href="#"><img src="image/bin.png" width="20px" onclick="document.getElementById('note').value=''"></a><br>


        <br>
        <center>
          <button type="submit" class="bg-success text-white" style="background-color:green">Submit</button>
          <button type="reset" class="bg-danger text-white" style="background-color:red">Reset</button>
        </center>
        <hr>
      </form>

      <div>
      <h2 id="action">การปฎิบัติ</h2>
      <div class="frame">
        <button class="custom-btn btn-1" onclick="addAction(this)">กลับห้องเรียน</button>
        <button class="custom-btn btn-1" onclick="addAction(this)">นอนพักห้องพยาบาล</button>
        <button class="custom-btn btn-1" onclick="addAction(this)">ส่งโรงพยาบาล</button>
        <button class="custom-btn btn-1" onclick="addAction(this)">รายงานผู้ปกครอง</button>
        <button class="custom-btn btn-1" onclick="addAction(this)">รายงานครูประจำชั้น</button>
      </div>
    </div>
    <hr>
      <div>
      <h2 id="advice">คำแนะนำ</h2>
      <div class="frame">
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ไม่ให้แผลถูกน้ำ</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ทำแผลวันละครั้ง</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">รับประทานอาหารตรงเวลา</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">รับประทานอาหารอ่อน ย่อยง่าย</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">งดนม</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">พักผ่อนให้เพียงพอ</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ดื่มน้ำให้มาก</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">พักการใช้งานกล้ามเนื้อ</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ประคบเย็นภายใน 24 ชั่วโมงแรก</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ประคบร้อนหลัง 24 ชั่วโมง</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">สังเกตอาการทางสมองภายใน 24 ชั่วโมงแรก</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ถ้าอาการไม่ดีขึ้นควรพบแพทย์</button>
        <button class="custom-btn btn-1" onclick="addAdvice(this)">ควรปรึกษาแพทย์ผู้เชี่ยวชาญ</button>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <hr>
    <div>
      <h2 id="symptom">อาการ</h2>
      <br>
      <div class="frame">
        <script type="text/javascript">
          function addSymptom(obj){
            document.getElementById('symptom').value = document.getElementById('symptom').value.replace(`${obj.innerHTML}, `,"") + `${obj.innerHTML}, `
          }
          function addPosition(obj){
            document.getElementById('position').value = `${obj.innerHTML}`
          }
          function addAction(obj){
            document.getElementById('action').value = document.getElementById('action').value.replace(`${obj.innerHTML}, `,"") + `${obj.innerHTML}, `
          }
          function addAdvice(obj){
            document.getElementById('advice').value = document.getElementById('advice').value.replace(`${obj.innerHTML}, `,"") + `${obj.innerHTML}, `
          }
          function dmgContext(obj) {
            var dmgValue = document.getElementById('damage').value
            var dmgContextVal;
            switch(dmgValue) {
              case "1":
                dmgContextVal = "น้อย"
                document.getElementById('damage_context').style.color = '#7FBD7A'
                break;
              case "2":
                dmgContextVal = "ปานกลาง"
                document.getElementById('damage_context').style.color = 'orange'
                break;
                case "3":
                dmgContextVal = "มาก"
                document.getElementById('damage_context').style.color = '#FF5656'
                break;
              }
            document.getElementById('damage_context').innerHTML = `(${dmgContextVal})`
          }
        </script>
        
        <div style="background-color:#F00">
          <h3>บาดแผล</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลถลอก</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลฟกช้ำ</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลตัด</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลฉีกขาด</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลถูกแทง</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลไฟไหม้</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลอื่น ๆ</button>
        </div>
        <div style="background-color:#E00">
          <h3>กล้ามเนื้อเคล็ด ขัดยอก</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">เท้าพลิก</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดหลัง</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดคอ</button>
        </div>
        <div style="background-color:#E00">
          <h3>กล้ามเนื้อเคล็ด ขัดยอก</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">เท้าพลิก</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดหลัง</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดคอ</button>
        </div>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">กระดูกหัก แตก</button>
        <div style="background-color:#E00">
          <h3>ปวดท้อง</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดท้องกระเพาะ</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดจุกเสียด อืด แน่นท้อง</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ท้องเสีย</button>
            <!-- <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดประจำเดือน</button> -->
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ปวดท้องไม่ทราบสาเหตุ</button>
        </div>
        <div style="background-color:#E00">
          <h3>ปวดศรีษะ</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">นอนไม่อิ่ม</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">เมารถ</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">เครียด</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ไม่ทราบสาเหตุ</button>
        </div>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">ไข้ ตัวร้อน</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">หวัด มีน้ำมูก</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">ไอ เจ็บคอ มีเสมหะ</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">คลื่นไส้ อาเจียน เวียนศรีษะ</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">แผลในช่องปาก</button>
        <div style="background-color:#E00">
          <h3>ปวดฟัน</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ฟันผุ</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ฟันน้ำนมหลุด</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ฟันโยก</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ฟันบิ่น</button>
        </div>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">ผื่นคัน</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">แมลงสัตว์กัดต่อย</button>
        <div style="background-color:#E00">
          <h3>ตา</h3>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ตาอักเสบ</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">ตาแดง</button>
            <button class="custom-btn btn-1" onclick="addSymptom(this)">สิ่งแปลกปลอมเข้าตา</button>
        </div>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">เลือดกำเดา</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">เสี้ยน</button>
        <button class="custom-btn btn-1" onclick="addSymptom(this)">อื่น ๆ</button>
      </div>
    </div>
    <hr>
    <div>
      <h2 id="ตำแหน่ง">ตำแหน่ง</h2>
      <div class="frame">
        <button class="custom-btn btn-1" onclick="addPosition(this)">ศรีษะ</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">หน้าผาก</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">คิ้ว</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ตา</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">จมูก</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">หู</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">คอ</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">แขน</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ลำตัว</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ศอก</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">มือ</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ขา</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">เข่า</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">เท้า</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ลิ้นปี่</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ชายโครงซ้าย</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">ชายโครงขวา</button>
        <button class="custom-btn btn-1" onclick="addPosition(this)">สะดือ</button>

      </div>
    </div>
    <hr>
    

  </div>

</div>
  

  <script>
    var jsonArray = '{"44444":{"name": "C","last":"D"}, "44447":{"name": "E","last":"G"}}'
    var jsonParsedArray = JSON.parse(jsonArray);
  
    function main(data) {
      var val = document.getElementById('SearchVID').value
      document.getElementById('SearchVID').value = val.replace(/\D/g,'');
      console.log(val.length,val)
      if (val.length === 5) {
        var studentData = data[val]
        console.log(studentData)
        document.getElementById('name').innerHTML = studentData["name"]
        document.getElementById('last').innerHTML = studentData["last"]
        document.getElementById('timestamp').value = moment().format('l') + " " + moment().format('LTS');
        // document.getElementById('studentInfo').style.display = "initial"
        document.getElementById('name').style.display = "initial"
        document.getElementById('last').style.display = "initial"
        document.getElementById('error').style.display = "none"
        document.getElementById('StudentPortrait').src = "image/"+val+".jpg"
      }
      else {
        // document.getElementById('studentInfo').style.display = "none"
        document.getElementById('name').style.display = "none"
        document.getElementById('last').style.display = "none"
        document.getElementById('error').style.display = "initial"
        document.getElementById('StudentPortrait').src = "image/notFound.png"
      }
    }
  </script>

  </center>
</body>
</html>